var render=function(){function e(e){if(e)if(1==e.isbursts)if(1==e.amount){var a=""+e.memberid+"_"+e.giftid,n=$(".left-side-cartoon > #"+a);if(n.length>0&&!n.is("hide"))n.attr("data-amount",parseInt(n.attr("data-amount"))+1);else{var r=$(".left-side-cartoon > .hide");if(r.length>0)t(e);else{for(var s=0;s<i.length;s++){var o=i[s];if(e.memberid==o.memberid&&e.giftid==o.giftid)return void(o.amount=(parseInt(e.amount)+parseInt(o.amount)).toString())}i.push(e)}}}else{var r=$(".left-side-cartoon > .hide");e.memberid="",r.length>0?t(e):i.push(e)}else{var r=$(".left-side-cartoon > .hide");r.length>0?t(e):i.push(e)}}function t(e){function a(e){var s=(new Date).getTime();setTimeout(function(){if((new Date).getTime()-s>6e3)return r.attr("id","").addClass("hide"),r.animate({"margin-left":"-8rem"},300),void(i.length>0&&t(i.shift()));var o=parseInt(r.attr("data-amount")),l=parseInt(r.attr("data-current"));if(o>l){var m=(l+(o-l>=10&&1==e.isbursts&&""==e.memberid?10:1)).toString();r.attr("data-current",m),$(".count",r).html("×&nbsp;"+m),$(".count",r).addClass("scale"),setTimeout(function(){$(".count",r).removeClass("scale"),a(e)},250)}else setTimeout(arguments.callee,n)},n)}var r=$(".left-side-cartoon > .hide").eq(0);r.attr({"data-amount":e.amount,id:""+e.memberid+"_"+e.giftid}),r.removeClass("hide"),r.attr("data-current",1==e.isbursts&&""==e.memberid?10:1),r.html(template("giftx",e)),$(".count",r).html("×&nbsp;"+r.attr("data-current")),r.animate({"margin-left":"0"},300),$(".count",r).addClass("scale"),setTimeout(function(){$(".count",r).removeClass("scale"),a(e)},250)}function a(){r.scrollTop(2e4)}var i=[],n=300,r=$("#message"),s=$("#list-info");this.login=function(e){if(e=$.parseJSON(e)[0],e.nickname){e.level=Math.max(1,e.level),s.append(template("login",e));for(var t=0;t<$("li",s).length-50;t++)$("li",s).eq(t).remove();a()}},this.gift=function(t){var a=$.parseJSON(t);a.level=Math.max(1,a.level),e(a),a.goldcoins&&($(".gold-coin .goldcoins").html(a.goldcoins),$(".gold-coin").is(":hidden")?$(".gold-coin").show():"")},this.comment=function(e){var t=$.parseJSON(e);t.level=Math.max(1,t.level),s.append(template("comment",t));for(var i=0;i<$("li",s).length-50;i++)$("li",s).eq(i).remove();a()},this.message=function(e){var t=$.parseJSON(e);4==t.type?s.append(template("message",t)):5==t.type&&s.append(template("messagex",t));for(var i=0;i<$("li",s).length-50;i++)$("li",s).eq(i).remove();a()},this.praise=function(e){$.parseJSON(e)},this.live_info=function(e){$.parseJSON(e)}};