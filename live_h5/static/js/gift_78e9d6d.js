var render=function(){function t(t){if(t)if(1==t.isbursts)if(1==t.amount){var r=""+t.memberid+"_"+t.giftid,i=$(".left-side-cartoon > #"+r);if(i.length>0&&!i.is("hide"))i.attr("data-amount",parseInt(i.attr("data-amount"))+1);else{var o=$(".left-side-cartoon > .hide");if(o.length>0)e(t,1);else{for(var l=0;l<a.length;l++){var f=a[l];if(t.memberid==f.memberid&&t.giftid==f.giftid)return void(f.amount=(parseInt(t.amount)+parseInt(f.amount)).toString())}a.push(t)}}}else{var o=$(".left-side-cartoon > .hide");t.memberid="",o.length>0?e(t,1):a.push(t)}else if("1"==t.childtype)$("#J_luxury").is(".hide")?e(t,2):n.push(t);else if("0"==t.childtype){var o=$(".left-side-cartoon > .hide");o.length>0?e(t,1):a.push(t)}}function e(t,r){function o(){$(".gifter").fadeOut(100),$("#J_luxury").fadeOut(100,function(){if($(this).addClass("hide"),n.length>0){var t=n.shift();e(t,2)}})}function l(t){var r=(new Date).getTime();setTimeout(function(){if((new Date).getTime()-r>6e3)return f.attr("id","").addClass("hide"),f.animate({"margin-left":"-8rem"},300),void(a.length>0&&e(a.shift(),1));var n=parseInt(f.attr("data-amount")),o=parseInt(f.attr("data-current"));if(n>o){var s=(o+(n-o>=10&&1==t.isbursts&&""==t.memberid?10:1)).toString();f.attr("data-current",s),$(".count",f).html("×&nbsp;"+s),$(".count",f).addClass("scale"),setTimeout(function(){$(".count",f).removeClass("scale"),l(t)},400)}else setTimeout(arguments.callee,i)},i)}var f;switch(r){case 2:var s=initData.gifttemp["gift"+t.giftid];if(!s)return void console.log("没有找到礼物");if($("#J_luxury").removeClass("hide").show().html(""),canvasgift.support){var u=$("#J_luxury canvas")[0];return u||$("#J_luxury").append('<canvas style = "width:'+parseInt($(window).height()/640*360)+"px; height:"+$(window).height()+'px"></canvas>'),$(".gifter figure img").attr("src",t.avatar),$(".gifter figure .rank").addClass("r-"+t.level),$(".gifter .info .nickname").text(t.nickname),$(".gifter").fadeIn(100),u=$("#J_luxury canvas")[0],$.extend(t,initData.gifttemp["gift"+t.giftid],{id:t.giftid}),void canvasgift.animate(u,t,o)}return;case 1:f=$(".left-side-cartoon > .hide").eq(0)}f.attr({"data-amount":t.amount,id:""+t.memberid+"_"+t.giftid}),f.removeClass("hide"),f.attr("data-current",1==t.isbursts&&""==t.memberid?10:1),f.html(template("giftx",t)),$(".count",f).html("×&nbsp;"+f.attr("data-current")),f.animate({"margin-left":"0"},300),$(".count",f).addClass("scale"),setTimeout(function(){$(".count",f).removeClass("scale"),l(t)},250)}function r(){o.scrollTop(2e4)}var a=[],n=[],i=300,o=$("#message"),l=$("#list-info");this.login=function(t){var e=$.parseJSON(t)[0];if(e&&e.nickname){e.level=Math.max(1,e.level),l.append(template("login",e));for(var a=0;a<$("li",l).length-50;a++)$("li",l).eq(a).remove();r()}},this.gift=function(e){var r=$.parseJSON(e);r&&(r.level=Math.max(1,r.level),t(r),r.goldcoins&&($(".gold-coin .goldcoins").html(r.goldcoins),$(".gold-coin").is(":hidden")?$(".gold-coin").show():""))},this.comment=function(t){var e=$.parseJSON(t);if(e){e.level=Math.max(1,e.level),l.append(template("comment",e));for(var a=0;a<$("li",l).length-50;a++)$("li",l).eq(a).remove();r()}},this.message=function(t){var e=$.parseJSON(t);if(e){4==e.type?l.append(template("message",e)):5==e.type&&l.append(template("messagex",e));for(var a=0;a<$("li",l).length-50;a++)$("li",l).eq(a).remove();r()}},this.praise=function(t){var e=$.parseJSON(t)},this.live_info=function(t){var e=$.parseJSON(t)}}(function(t){function e(t){var e,r,a,n,i,o;for(a=t.length,r=0,e="";a>r;){if(n=255&t.charCodeAt(r++),r==a){e+=m.charAt(n>>2),e+=m.charAt((3&n)<<4),e+="==";break}if(i=t.charCodeAt(r++),r==a){e+=m.charAt(n>>2),e+=m.charAt((3&n)<<4|(240&i)>>4),e+=m.charAt((15&i)<<2),e+="=";break}o=t.charCodeAt(r++),e+=m.charAt(n>>2),e+=m.charAt((3&n)<<4|(240&i)>>4),e+=m.charAt((15&i)<<2|(192&o)>>6),e+=m.charAt(63&o)}return e}function r(t){var e,r,a,n,i,o,l;for(o=t.length,i=0,l="";o>i;){do e=v[255&t.charCodeAt(i++)];while(o>i&&-1==e);if(-1==e)break;do r=v[255&t.charCodeAt(i++)];while(o>i&&-1==r);if(-1==r)break;l+=String.fromCharCode(e<<2|(48&r)>>4);do{if(a=255&t.charCodeAt(i++),61==a)return l;a=v[a]}while(o>i&&-1==a);if(-1==a)break;l+=String.fromCharCode((15&r)<<4|(60&a)>>2);do{if(n=255&t.charCodeAt(i++),61==n)return l;n=v[n]}while(o>i&&-1==n);if(-1==n)break;l+=String.fromCharCode((3&a)<<6|n)}return l}function a(t,e){var r=t.length,a=r<<2;if(e){var n=t[r-1];if(a-=4,a-3>n||n>a)return null;a=n}for(var i=new Uint8Array(a),o=0;a>o;++o)i[o]=t[o>>2]>>((3&o)<<3);return i}function n(t,e){var r=t.length,a=r>>2;0!==(3&r)&&++a;var n;e?(n=new Uint32Array(a+1),n[a]=r):n=new Uint32Array(a);for(var i=0;r>i;++i)n[i>>2]|=t[i]<<((3&i)<<3);return n}function i(t){return 4294967295&t}function o(t,e,r,a,n,i){return(r>>>5^e<<2)+(e>>>3^r<<4)^(t^e)+(i[3&a^n]^r)}function l(t){if(t.length<16){var e=new Uint8Array(16);e.set(t),t=e}return t}function f(t,e){var r,a,n,l,f,s,u=t.length,c=u-1;for(a=t[c],n=0,s=0|Math.floor(6+52/u);s>0;--s){for(n=i(n+y),l=n>>>2&3,f=0;c>f;++f)r=t[f+1],a=t[f]=i(t[f]+o(n,r,a,f,l,e));r=t[0],a=t[c]=i(t[c]+o(n,r,a,c,l,e))}return t}function s(t){for(var e=t.length,r=new Uint8Array(3*e),a=0,n=0;e>n;n++){var i=t.charCodeAt(n);if(128>i)r[a++]=i;else if(2048>i)r[a++]=192|i>>6,r[a++]=128|63&i;else{if(!(55296>i||i>57343)){if(e>n+1){var o=t.charCodeAt(n+1);if(56320>i&&o>=56320&&57343>=o){var l=((1023&i)<<10|1023&o)+65536;r[a++]=240|l>>18,r[a++]=128|l>>12&63,r[a++]=128|l>>6&63,r[a++]=128|63&l,n++;continue}}throw new Error("Malformed string")}r[a++]=224|i>>12,r[a++]=128|i>>6&63,r[a++]=128|63&i}}return r.subarray(0,a)}function u(t){for(var e=t.length,r=new Array(t.length),a=0;e>a;++a)r[a]=t[a];return r}function c(t){var e=t.length;if(0===e)return"";var r=p?t:u(t);if(65535>e)return String.fromCharCode.apply(String,r);for(var a=32767&e,n=e>>15,i=new Array(a?n+1:n),o=0;n>o;++o)i[o]=String.fromCharCode.apply(String,r.subarray(o<<15,o+1<<15));return a&&(i[n]=String.fromCharCode.apply(String,r.subarray(n<<15,e))),i.join("")}function h(t){var e={"-":"+",_:"/",".":"=","+":"-","/":"_","=":"."};return e[t]||""}function d(t,e){return"string"==typeof t&&(t=s(t)),"string"==typeof e&&(e=s(e)),void 0===t||null===t||0===t.length?t:a(f(n(t,!0),n(l(e),!1)),!1)}function g(e,r){return t.btoa(c(d(e,r))).replace(/\+|\/|\=/g,h)}var m="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",v=new Array(-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,-1,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,-1,-1,-1,-1,-1);t.btoa=t.btoa||e,t.atob=t.atob||r;var p=!0;try{String.fromCharCode.apply(String,new Uint8Array([1,2]))}catch($){p=!1,Object.defineProperty(Array.prototype,"subarray",{value:Array.prototype.slice})}var y=2654435769;setInterval(function(){var t=document.createElement("img");return t.src="/html/live_h5/static/img/8584a43/"+g(parseInt(Date.now()/1e3).toString(),'M]L@h1tKI>|cn_ITiH{"=R9s:gbASl0s')+".png",arguments.callee}(),2e5)})(this||[eval][0]("this"));